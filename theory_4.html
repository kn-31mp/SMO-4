<!DOCTYPE html>
<html lang="uk">
    <head>
        <title>SMO 4</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="bootstrap_5.3.2_min.css">
        <link rel="stylesheet" href="main.css">
    </head>
    <body>
        <div class="container-fluid text-justify bg-body">
            <div class="row">
                <div class="col-9 main_frame">
                    <div class="h1">
                        <div>4. Канали зв'язку</div>
                        <div>Агрегування каналів</div>
                    </div>
                    <hr class="border-black">
                    <p>
                        <h3>Зміст</h3>
                    </p>
                    <p>
                        <a href="#theory_4_1">4.1. Базові поняття (повторити та розуміти)</a>
                    </p>
                    <p>
                        <a href="#theory_4_2">4.2. Агрегування каналів</a>
                    </p>
                    <p>
                        <a href="#theory_4_3">4.3. Посилання</a>
                    </p>
                    <p>
                        <h3><a name="theory_4_1">4.1. Базові поняття (повторити та розуміти)</a></h3>
                    </p>
                    <p>
                        У загальній теорії передачі інформації каналом називають будь-яку систему технічних засобів та середовище поширення сигналів передачі даних від джерела до приймача. Конкретне значення терміна «канал» залежить від контексту. Щодо мережних технологій говоритимемо про канал зв'язку.
                    </p>
                    <p>
                        <b><i><u>Канал зв'язку (channel) або лінія зв'язку (line)</u></i></b> складається з: <b>фізичного середовища</b> (провідного чи бездротового), яким передаються інформаційні сигнали, <b>апаратури передачі/прийому даних і проміжної апаратури</b>. У технологіях локальних мереж проміжна апаратура не використовується. У технологіях глобальних мереж проміжна апаратура застосовується для посилення та регенерації сигналів, а також для створення безперервного складового каналу з відрізків фізичного середовища між двома точками мережі (комутація каналів).
                    </p>
                    <p>
                        Параметри каналу зв'язку визначаються протоколом фізичного рівня, який реалізується в пристроях DCE та проміжній апаратурі за її наявності.
                    </p>
                    <p>
                        <b><i><u>Протокол фізичного рівня</u></i></b> визначає для каналу передачі <b>між двома DCE: швидкість, дальність, щільність мультиплексування</b> (за наявності) – кількість різних потоків даних, що передаються одночасно у загальній смузі пропускання фізичного середовища каналу. Останнє впливає на таку характеристику мережі як її ємність – кількість користувачів, які можуть у ній спільно працювати. Для досягнення декларованих характеристик каналу протокол фізичного рівня визначає <b>внутрішню організацію каналу</b>, включаючи кількість кабелів, частотних, просторових, OFDM і т.д. підканалів.
                    </p>
                    <p>
                        Важливо розуміти, що з точки зору протоколів верхніх рівнів канал, який надається користувачеві фізичним протоколом, представляється як єдине ціле, а доступ до його внутрішніх складових відсутній.
                    </p>
                    <p>
                        Для протоколів верхніх рівнів канал незалежно від його внутрішньої організації можна представити у вигляді деякого конвеєра, на який вони періодично скидають або забирають свої пакети даних. Він обертається або з постійною швидкістю (переважна більшість провідних протоколів) або зі швидкістю, яка може автоматично змінюватись в залежності від рівня перешкод в каналі (усі протоколи радіоканалів). При збільшенні зовнішніх перешкод в каналі передавач зменшує швидкість передачі даних для кращого розпізнавання сигналів приймачем. До зниження швидкості зокрема призводить перемикання на більш завадостійкі методи кодування бітів даних. А ці методи мають меншу інформаційну ємність. Наприклад, метод модуляції BPSK (2 значення фази сигналу) за один такт роботи передавача може передати 1 біт інформації, тоді як QPSK (Quadrature PSK) з чотирма значеннями фази – 2 біти. Проте, чим менше різних значень у закодованого фізичного сигналу, тим краще він помітний на тлі перешкод.
                    </p>
                    <p>
                        Але повернемося до аналогії з конвеєром. Нехай він обертається швидко з постійною швидкістю, але якщо на нього скидати цеглину (пакет даних), наприклад, один раз на 5хв, то частіше, ніж раз на 5 хв цеглини з конвеєра падати не стануть (і рідше теж). Тобто, фактичну швидкість передачі даних користувача визначає не тільки протокол фізичного рівня. Її можуть обмежувати протоколи верхніх рівнів. Згадаймо вплив розміру вікна ТСР, застосування алгоритмів обробки черг пакетів (дірявого відра, відра токенів ) тощо. Таким чином, обмежувати швидкість потоку даних користувача можна налаштуваннями на маршрутизаторі, комутаторі або проксі- сервері. Що й реалізують провайдери відповідно до тарифів та навантаження на свої канали.
                    </p>
                    <p>
                        <b><i><u>Протокол канального рівня</u></i></b> – одна з його основних функцій це спосіб (алгоритм) доступу до середовища каналу зв'язку, тобто. порядок передачі та прийому даних для підключених до каналу DCE. Метод доступу, зокрема, визначає <b>симплексний, дуплексний, або напівдуплексний</b> спосіб передачі, а також істотно впливає на ємність мережі.
                    </p>
                    <p>
                        <h3><a name="theory_4_2">4.2. Агрегування каналів</a></h3>
                    </p>
                    <p>
                        <b>Агрегування каналів</b> (англ. link aggregation ) або <b>транкінг</b>, або <b>LAG</b> (сукупність об'єднаних разом фізичних портів) — це <b>технології об'єднання кількох паралельних фізичних каналів передачі в один логічний канал</b> з метою збільшення пропускної спроможності та відмовостійкості (у разі відмови одного з каналів інші продовжують працювати). Для агрегування необхідна наявність засобів підтримки з обох сторін об'єднаного каналу.
                    </p>
                    <p>
                        Агрегація каналів дозволяє поступово збільшувати швидкість магістралі зі зростанням потреби без необхідності заміни устаткування. <b>Застосування агрегації порівняно з використанням більш швидкісного каналу визначається</b> міркуваннями технічної складності (наприклад, кількість кабельних з'єднань, адаптерів, організація антен тощо) та економічними міркуваннями.
                    </p>
                    <p>
                        <b>Обов'язковим елементом</b> будь-якої технології об'єднання каналів є <b>механізм балансування</b>, що розподіляє пакети даних по окремих фізичних каналах транка. Правила балансування можуть бути різними: від простого розподілу по колу RR до розподілу з урахуванням ознак пакетів (адреси 2 та 3 рівня, номери портів 4-го рівня OSI), з урахуванням пропускної спроможності каналів, затримок пакетів у каналах, тощо.
                    </p>
                    <p>
                        Існує <b>багато різних реалізацій агрегування каналів</b>: стандартних та фірмових, на різних рівнях моделі OSI. Багато виробників підтримують таку властивість у своїх маршрутизаторах та серверах віддаленого доступу фірмовим способом.
                    </p>
                    <p>
                        <h5><u>4.2.1. На канальному та фізичному рівні OSI (рівнь мережевих технологій)</u></h5>
                    </p>
                    <p>
                        Найбільш <b><i>поширений відкритий стандартний протокол</i></b> агрегування каналів (LACP) для мереж <b>Ethernet</b> описаний у документі IEEE 802.1AX (попередні версії – у IEEE 802.3ad та IEEE 802.1aq). Протокол призначений для організації з'єднання між 2-ма комутаторами (2-го чи 3-го рівня) або між комутатором та сервером. Зазвичай підтримується об'єднання від 1 до 8 портів. Як правило, всі порти з 2-х сторін при агрегуванні повинні мати той самий протокол фізичного рівня.
                    </p>
                    <p>
                        Усі поширені ОС підтримують об'єднання мережевих карт Ethernet з призначенням такому з'єднанню <b>єдиної IP-адреси</b> або на рівні власних драйверів або на вищому рівні, отже, можуть працювати з мережними картами від різних виробників чи драйверів, якщо мережна карта підтримується ядром. Платформи віртуалізації Citrix XenServer та VMware ESX мають вбудовану підтримку агрегації каналів.
                    </p>
                    <p>
                        <b>Радіо технології</b>
                    </p>
                    <p>
                        У мережах стільникового зв'язку кожному оператору (наприклад, в Україні оператори Vodafone, Kyivstar та lifecell) виділено стандартні діапазони частот, так звані бенди (BAND), які оператор ділить на частотні канали для користувачів. У технології <b>LTE Advanced</b>, яка ще позначається як 4.5G або 4G+ можна агрегувати кілька каналів користувача для створення об'єднаного більш швидкісного каналу зв'язку. З боку операторів зв’язку технологія підтримується лише у найбільших містах. Для підтримки клієнтського пристрою (смартфону) необхідно, щоб його модуль зв'язку мав категорію LTE Cat 6 і вище. Але батарея телефону швидко розряджається. Деякі моделі смартфонів, наприклад, Huawei дозволяють користувачам самостійно вмикати/вимикати агрегацію в налаштуваннях.
                    </p>
                    <p>
                        Для мереж <b>Wi-Fi</b> є фірмова технологія Super G, яка за її підтримки пристроєм об'єднує два канали стандарту 802.11g зі швидкістю передачі даних 54 Мбіт/с в єдиний канал зі швидкістю 108 Мбіт/ с .
                    </p>
                    <p>
                        <b>Засоби канального рівня, незалежні від мережевих технологій</b>
                    </p>
                    <p>
                        Однією з можливостей протоколу канального рівня <b>РРР</b> є використання кількох фізичних ліній (можливо різної природи) для об’єднання в один логічний канал. Наприклад, один канал може бути утворений у телефонній мережі, а інший може бути віртуальним каналом мережі frame relay. Цю можливість реалізує додатковий протокол, який має назву MLPPP ( Multi Link РРР).
                    </p>
                    <p>
                        <h5><u>4.2.2. На мережевому рівні</u></h5>
                    </p>
                    <p>
                        Найпростіша схема організації – маршрутизатор при передачі даних в мережу (наприклад, в Інтернет) балансує навантаження між кількома каналами, можливо різного типу. Але це не можна назвати повноцінною агрегацією, оскільки агрегування вимагає <b>надійного контролю</b> об'єднаного каналу на <b>обох його кінцях</b>.
                    </p>
                    <p>
                        Тому для агрегації застосовується схема з двома маршрутизаторами, підключеними з кожної сторони об'єднаного каналу, або з парою маршрутизатор та сервер віддаленого доступу. Кожен із цих пристроїв має підтримувати <b>спеціальне програмне забезпечення</b>. Сервер може бути як цільовим, так і транзитним. Транзитний сервер по одному (агрегованому) каналу отримує запити від клієнтського обладнання, по другому каналу відправляє їх в Інтернет або на цільові сервіси, потім отримує від них відповідь і знову через перший канал транслює його клієнтам.
                    </p>
                    <p>
                        Для підтримки таких каналів випускаються спеціальні <b>роутери - агрегатори</b>, які забезпечуються декількома GSM-модулями, LTE-модулями, Ethernet- модулями або іншими у різних комбінаціях.
                    </p>
                    <p>
                        В [1] описана схема об'єднання в один канал декількох <b>Wi-Fi</b> мостів. Схема застосовується для організації двохточкового швидкісного бездротового радіоканалу на відстані до кількох кілометрів. Для цього потрібно по парі точок доступу для утворення Wi-Fi WDS моста на кожен радіоканал (мости слід налаштовувати не на сусідні частотні радіоканали). Також потрібно по одному маршрутизатору з функцією Bonding (наприклад, Mikrotik RB2011LS-IN) з кожного боку для об'єднання кількох Wi-Fi мостів у єдиний канал. До кожного роутера в окремий порт Ethernet підключається точка доступу з кожного Wi-Fi мосту. Потім на маршрутизаторах налаштовується маршрутизація з балансуванням по колу RR. Це забезпечує одразу резервування, складання пропускної спроможності і навіть пропуск трафіку в різні сторони по різних каналах (дуплекс).
                    </p>
                    <div class="d-flex justify-content-center">
                        <img src="FORMULA/formula_4_1.jpg">
                    </div>
                    <p>
                        <h5><u>4.2.3.На рівнях OSI вище мережневого</u></h5>
                    </p>
                    <p>
                        Об'єднання кількох каналів на 4-му або вищих рівнях OSI реалізовано в низці комерційних програмних рішень [2], наприклад, Служба широкосмугового з'єднання Mushroom Networks Connectify Speedify Fast Bonding <b>VPN</b> - програмний додаток для декількох платформ: ПК, Mac , iOS та Android.
                    </p>
                    <p>
                        Агрегування застосовується також у протоколах з'єднання <b>мереж зберігання даних</b> через глобальну розподілену мережу IP [3], наприклад, стандартний протокол FCIP. Дані FCIP упаковуються так: SCSI –&gt;  FC –&gt; TCP –&gt; IP –&gt; канальний рівень, де протоколом верхнього рівня є SCSI, а канальний рівень представляє Ethernet, PPP, Frame Relay і т.д. Можливе об'єднання до 16 фізичних FCIP лінків у єдиний логічний інтерфейс (PortChannel).
                    </p>
                    <p>
                        FC (англ. Fibre Channel (волоконний канал)) - сімейство протоколів для високошвидкісної передачі дани з малими затримками. В даний час широко застосовується для створення мереж зберігання даних. FC це мережева технологія, яка включає функціональність 1-4 рівнів моделі OSI, має свої концентратори і комутатори з можливостями вибору маршруту. Технологія служить для підключення віддалених на різну відстань зовнішніх пристроїв зберігання даних (дискових масивів, оптичні приводи і т.д.) до серверів таким чином, щоб їх операційна система розпізнала підключені ресурси як локальні. Для використання у складі FCIP FC мають окремі протоколи.
                    </p>
                    <p>
                        <h3><a name="theory_4_3">4.3. Посилання</a></h3>
                    </p>
                    <div class="mb-3">
                        <div>1. Об'єднання кількох Wi-Fi каналів за допомогою Mikrotik</div>
                        <a href="https://www.technotrade.com.ua/Articles/merging_wifi_channels_on_mikrotik_2013-12-14.php">
                            https://www.technotrade.com.ua/Articles/merging_wifi_channels_on_mikrotik_2013-12-14.php
                        </a>
                    </div>
                    <div class="mb-3">
                        <div>2. Агрегація посилань</div>
                        <a href="https://ua.qaz.wiki/wiki/Link_aggregation#Link_Aggregation_Control_Protocol">
                            https://ua.qaz.wiki/wiki/Link_aggregation#Link_Aggregation_Control_Protocol
                        </a>
                    </div>
                    <div class="mb-3">
                        <div>3. Протоколи мереж зберігання</div>
                        <a href="http://www.storagenews.ru/34/SAN-FC_34.pdf">
                            http://www.storagenews.ru/34/SAN-FC_34.pdf
                        </a>
                    </div>
                    <div class="mb-3">
                        <div>4. Що таке агрегація частот на смартфоні або все про значок 4G+</div>
                        <a href="https://www.gsmsota.com.ua/blog/stati/chto-takoe-agregatsiya-chastot-na-smartfone/">
                            https://www.gsmsota.com.ua/blog/stati/chto-takoe-agregatsiya-chastot-na-smartfone/
                        </a>
                    </div>
                </div>
                <div class="col-3 shadow side_frame bg-yellow">
                    <svg width="96" height="96" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.6347 42.7125V35.1516L41.3503 14.3999V42.287H35.7859V39.1121H25.9665L31.0071 34.006H35.7859V26.8705L18.6347 42.7125Z" fill="#212529">
                            
                        </path>
                        <path d="M51.5614 27.9224C57.0941 27.9224 60.8 32.3068 60.8 38.4659C60.8 43.2679 58.2685 47.5479 54.6148 48.383C53.4404 48.6701 52.7097 48.8006 52.3704 48.8006H50.6016V43.8942H51.8484C54.406 43.8942 55.6848 41.6759 55.6848 37.2132C55.6848 37.0827 55.5804 34.9688 54.1189 33.6378C53.5187 33.0897 52.9967 32.8287 52.5009 32.8287H48.6384V48.8006H43.4449V27.9224H51.5614Z" fill="#212529">
                            
                        </path>
                        <path d="M11.6386 27.9224C6.10591 27.9224 2.40002 32.2024 2.40002 38.4659C2.40002 39.0661 2.47832 39.9795 2.6349 41.18C3.05247 44.4162 5.68835 47.7567 8.5852 48.383C9.7596 48.6701 10.5164 48.8006 10.8296 48.8006H43.5574V43.8942H11.3255C8.79398 43.8942 7.51519 41.6759 7.51519 37.2132C7.51519 36.9522 7.67178 36.2737 7.98495 35.1775C8.27203 34.1858 9.70741 32.8287 10.6991 32.8287H17.3541L19.7551 27.9224H11.6386Z" fill="#212529">
                            
                        </path>
                    </svg>
                    <hr class="border-dark">
                    <p>
                        <a href="index.html" class="link-dark fs-5"><b>Головна сторінка</b></a>
                    </p>
                    <p>
                        <a href="engine.html" class="link-dark fs-5"><b>Розрахунок системи</b></a>
                    </p>
                    <p>
                        <a href="theory.html" class="link-dark fs-5"><b>Теоретичні відомості</b></a>
                    </p>
                    <p class="tabbed-link">
                        <a href="theory_1.html" class="link-dark fs-5">
                            <b>1. Моделі черг в обчислювальних системах. Експоненційні системи зі змінними параметрами.</b>
                        </a>
                    </p>
                    <p class="tabbed-link">
                        <a href="theory_2.html" class="link-dark fs-5">
                            <b>2. Теорія черг і розрахунок параметрів Intranet-мережі. Особливості застосування теорії черг і розрахунку параметрів Intranet-мережі.</b>
                        </a>
                    </p>
                    <p class="tabbed-link">
                        <a href="theory_3.html" class="link-dark fs-5">
                            <b>3. Моделі програм. Методика моделювання ресурсів ВС. Моделі пристроїв-ресурсів і способи їх опису.</b>
                        </a>
                    </p>
                    <p class="tabbed-link">
                        <a href="theory_4.html" class="link-dark fs-5">
                            <b>4. Канали зв'язку. Агрегування каналів.</b>
                        </a>
                    </p>
                </div>
            </div>
        </div>
    </body>
</html>